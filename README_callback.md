# Callback в JavaScript

## Что такое Callback?

Callback (или "обратный вызов") — это функция, которая передается в другую функцию в качестве аргумента и вызывается позже, когда выполнение определенной задачи завершено. Это один из ключевых механизмов для работы с асинхронным кодом в JavaScript.

#### Как работают Callback-функции?

Передача функции в качестве аргумента:
Вы передаете функцию в другую функцию.

Вызов переданной функции:
Когда другая функция завершает свою задачу, она вызывает переданную функцию.

Пример Callback:
``` javascript
function processUserInput(callback) {
    const userName = prompt("Введите ваше имя:");
    callback(userName);
}

function greet(name) {
    console.log(`Привет, ${name}!`);
}

// Передаем greet в processUserInput
processUserInput(greet);
```
Асинхронный Callback

Часто используется для обработки данных после завершения асинхронных операций, таких как запросы к серверу или таймеры.

Пример:
``` javascript
console.log("Начало");

setTimeout(() => {
    console.log("Таймер сработал");
}, 2000);

console.log("Конец");
```
Вывод:
``` javascript
Начало
Конец
Таймер сработал
```
## Методы Callback
1. forEach()
2. map()
3. filter()
4. find()


# forEach?
Метод forEach в JavaScript используется для выполнения указанной функции один раз для каждого элемента массива. Он подходит для итерации по массивам, выполнения операций над их элементами и удобного чтения кода.

1. Основные характеристики:
- Не изменяет исходный массив.
- Не возвращает новый массив, просто выполняет указанную функцию.
- Может принимать три аргумента:
- Текущий элемент массива.
- Индекс текущего элемента.
- Сам массив, к которому применяется метод.

- Синтаксис:
```javascript
array.forEach(callback(element, index, array), thisArg);
```
- callback — функция, которая выполняется для каждого элемента.
- element — текущий элемент.

- index (необязательный) — индекс текущего элемента.
- array (необязательный) — исходный массив.
thisArg (необязательный) — значение, используемое как this внутри callback.
Примеры использования
2. Простая итерация:
```javascript
const numbers = [1, 2, 3, 4];

numbers.forEach((num) => {
    console.log(num * 2); // Удваивает каждый элемент массива
});
// Вывод:
// 2
// 4
// 6
// 8
```
3. Использование индекса:
```javascript
const fruits = ["яблоко", "банан", "апельсин"];

fruits.forEach((fruit, index) => {
    console.log(`${index + 1}: ${fruit}`);
});
// Вывод:
// 1: яблоко
// 2: банан
// 3: апельсин
```
4. Доступ к самому массиву:
```javascript
const numbers = [10, 20, 30];

numbers.forEach((num, index, arr) => {
    console.log(`Элемент: ${num}, Индекс: ${index}, Массив: ${arr}`);
});
// Вывод:
// Элемент: 10, Индекс: 0, Массив: 10,20,30
// Элемент: 20, Индекс: 1, Массив: 10,20,30
// Элемент: 30, Индекс: 2, Массив: 10,20,30
```
5. Использование thisArg:
```javascript
const multiplier = {
    factor: 2,
};

const numbers = [1, 2, 3];

numbers.forEach(function(num) {
    console.log(num * this.factor);
}, multiplier);
// Вывод:
// 2
// 4
// 6
```
6. Особенности и ограничения:
- Не поддерживает break или continue: Нельзя прервать выполнение цикла forEach. Если это необходимо, используйте for или for...of.
- Работает только с массивами.
- Не возвращает значение: Используйте методы, такие как map, если нужно получить преобразованный массив.
- Когда использовать forEach?
- Когда нужно выполнить действие над каждым элементом массива.
- Если не требуется создавать новый массив.
- Если итерация проста и не требует прерывания.
- Если нужен возврат нового массива или функционал для сложных операций, лучше использовать map, filter или другие методы массива.
# map
Метод map в JavaScript создает новый массив, выполняя заданную функцию для каждого элемента исходного массива. Это один из наиболее популярных методов для преобразования массива.

1. Основные характеристики:
- Возвращает новый массив. Исходный массив остается неизменным.
- Применяет переданную функцию ко всем элементам массива.
- Удобен для преобразования или форматирования данных.
Синтаксис:
```javascript
const newArray = array.map(callback(element, index, array), thisArg);
```
callback — функция, которая вызывается для каждого элемента.
- element — текущий элемент массива.
- index (необязательный) — индекс текущего элемента.
- array (необязательный) — исходный массив.
- thisArg (необязательный) — значение, используемое как this внутри callback.

1. Преобразование элементов:
```javascript
const numbers = [1, 2, 3, 4];

const doubled = numbers.map((num) => num * 2);

console.log(doubled);
// Вывод: [2, 4, 6, 8]
```
2. Форматирование данных:
```javascript
const users = [
    { name: "Иван", age: 25 },
    { name: "Мария", age: 30 },
    { name: "Алексей", age: 35 },
];

const names = users.map((user) => user.name);

console.log(names);
// Вывод: ["Иван", "Мария", "Алексей"]
```
3. Добавление текста или преобразование в строки:
```javascript
const numbers = [1, 2, 3];

const formatted = numbers.map((num) => `Число: ${num}`);

console.log(formatted);
// Вывод: ["Число: 1", "Число: 2", "Число: 3"]
```
4. Использование индекса:
```javascript
const numbers = [10, 20, 30];

const indexed = numbers.map((num, index) => `Индекс ${index}: ${num}`);

console.log(indexed);
// Вывод: ["Индекс 0: 10", "Индекс 1: 20", "Индекс 2: 30"]
```
5. Доступ к исходному массиву:
```javascript
const numbers = [1, 2, 3];

const summary = numbers.map((num, index, array) => ({
    value: num,
    isLast: index === array.length - 1,
}));

console.log(summary);
// Вывод: [
//   { value: 1, isLast: false },
//   { value: 2, isLast: false },
//   { value: 3, isLast: true }
// ]
```
#### Особенности и ограничения:
- Не изменяет исходный массив.
- Всегда возвращает новый массив. Если результат функции не возвращается, новый массив будет содержать undefined для каждого элемента.
- Подходит только для преобразования массива. Для действий без возврата значений используйте forEach.
- Когда использовать map?
- Когда нужно преобразовать массив в другой массив.
- Если требуется изменить формат данных или создать новый набор данных.
- Для работы с массивами, где важен возврат результата после преобразования.
- Если не нужен новый массив, используйте forEach.


# filter
Метод filter в JavaScript создает новый массив, включающий только те элементы исходного массива, которые удовлетворяют условию, заданному в функции обратного вызова (callback). Этот метод полезен для отбора данных из массива.

#### Основные характеристики:
- Возвращает новый массив с элементами, прошедшими проверку.
- Исходный массив остается неизменным.
- Если ни один элемент не удовлетворяет условию, возвращается пустой массив.
 
```javascript
const newArray = array.filter(callback(element, index, array), thisArg);
```
- callback — функция, которая вызывается для каждого элемента.
- element — текущий элемент массива.
- index (необязательный) — индекс текущего элемента.
- array (необязательный) — исходный массив.
- thisArg (необязательный) — значение, используемое как this внутри callback.

1. Фильтрация чисел:
```javascript
const numbers = [1, 2, 3, 4, 5, 6];

const evenNumbers = numbers.filter((num) => num % 2 === 0);

console.log(evenNumbers);
// Вывод: [2, 4, 6]
```
2. Отбор по условию:
```javascript
const users = [
    { name: "Иван", age: 25 },
    { name: "Мария", age: 30 },
    { name: "Алексей", age: 19 },
];

const adults = users.filter((user) => user.age >= 21);

console.log(adults);
// Вывод: [{ name: "Иван", age: 25 }, { name: "Мария", age: 30 }]
```
3. Удаление определенных значений:
```javascript
const fruits = ["яблоко", "банан", "апельсин", "банан"];

const noBanana = fruits.filter((fruit) => fruit !== "банан");

console.log(noBanana);
// Вывод: ["яблоко", "апельсин"]
```
4. Использование индекса:
```javascript
const numbers = [10, 20, 30, 40];

const oddIndex = numbers.filter((num, index) => index % 2 !== 0);

console.log(oddIndex);
// Вывод: [20, 40] (элементы с нечетными индексами)
```
5. Доступ к исходному массиву:
```javascript
const numbers = [1, 2, 3, 4, 5];

const filteredWithArray = numbers.filter((num, index, array) => num > array.length / 2);

console.log(filteredWithArray);
// Вывод: [4, 5] (элементы больше 2.5)
```
#### Особенности и ограничения:
- Не изменяет исходный массив.
- Всегда возвращает новый массив, в котором только элементы, прошедшие проверку.
- Если ни один элемент не удовлетворяет условию, возвращается пустой массив.
#### Когда использовать filter?
- Когда нужно отфильтровать массив по определенному критерию.
- Для извлечения элементов, соответствующих определенным условиям.
- Если нужно работать с подмножеством элементов из исходного массива.
- Если нужно просто преобразовать массив, используйте map. Для выполнения действий без создания нового массива подойдет forEach.


# find
Метод find в JavaScript используется для поиска первого элемента массива, который удовлетворяет условию, заданному в функции обратного вызова (callback). Если ни один элемент не удовлетворяет условию, возвращается undefined.

#### Основные характеристики:
- Возвращает только первый элемент, соответствующий условию.
- Возвращает undefined, если элемент не найден.
- Не изменяет исходный массив.
Синтаксис:
```javascript
const element = array.find(callback(element, index, array), thisArg);
```
- callback — функция, которая вызывается для каждого элемента.
- element — текущий элемент массива.
- index (необязательный) — индекс текущего элемента.
- array (необязательный) — исходный массив.
- thisArg (необязательный) — значение, используемое как this внутри callback.

1. Поиск числа:
```javascript
const numbers = [1, 2, 3, 4, 5];

const firstEven = numbers.find((num) => num % 2 === 0);

console.log(firstEven);
// Вывод: 2 (первое четное число)
```
2. Поиск объекта по условию:
```javascript
const users = [
    { id: 1, name: "Иван", age: 25 },
    { id: 2, name: "Мария", age: 30 },
    { id: 3, name: "Алексей", age: 19 },
];

const user = users.find((user) => user.age > 20);

console.log(user);
// Вывод: { id: 1, name: "Иван", age: 25 } (первый пользователь старше 20 лет)
```
3. Поиск строки:
```javascript
const fruits = ["яблоко", "банан", "апельсин"];

const fruit = fruits.find((item) => item.startsWith("б"));

console.log(fruit);
// Вывод: "банан" (первая строка, начинающаяся на "б")
```
4. Использование индекса:
```javascript
const numbers = [10, 20, 30, 40];

const result = numbers.find((num, index) => index > 1 && num > 25);

console.log(result);
// Вывод: 30 (первое число больше 25 с индексом > 1)
```
#### Особенности и ограничения:
- Возвращает только первый найденный элемент. Если требуется найти все подходящие элементы, используйте filter.
- Если элемент не найден, возвращает undefined, а не пустое значение.
- Работает только с массивами.
- Когда использовать find?
- Если нужно найти только один элемент, соответствующий критерию.
- Когда требуется быстрое завершение поиска при нахождении результата.
- Если важен сам элемент, а не его индекс или количество подходящих элементов.
Для поиска индекса используйте метод findIndex.












