# JavaScript Scope (Область видимости)

## Введение

Область видимости (или **Scope**) в JavaScript определяет, где переменная или функция доступна для использования в коде. Понимание области видимости важно для правильного управления переменными и предотвращения ошибок в коде.

## Типы области видимости

1. **Глобальная область видимости (Global Scope):**
   - Переменные, объявленные вне функций, находятся в глобальной области видимости и доступны везде в коде.
   ```javascript
   let globalVar = "I am global!";
   
   function testGlobal() {
       console.log(globalVar); // доступно в функции
   }
   testGlobal(); // Вывод: I am global!

# JavaScript Scope Types

## 1. Global Scope (Глобальная область видимости)
Глобальная область видимости относится к области, где переменные и функции доступны по всему коду. Когда переменная объявляется вне всех функций и блоков, она становится глобальной и доступной во всей программе.

- Переменные, объявленные в глобальной области видимости, могут быть использованы в любой части кода.
- Использование глобальных переменных может привести к неожиданным результатам, так как они могут быть изменены в любой части программы.
``` javascript
let globalVar = 10; // Глобальная переменная, объявлена вне функций и блоков. 
                    // Она доступна во всём коде, включая функции.

function changeGlobal() {
    // Доступ к глобальной переменной из функции
    globalVar = 20; // Изменяем значение глобальной переменной
    // Поскольку переменная глобальная, изменения будут видны в любой части программы
}
changeGlobal(); // Вызываем функцию, которая изменяет глобальную переменную
console.log(globalVar); // Вывод: 20
// Здесь отображается новое значение глобальной переменной после её изменения в функции
```
## 2. Local Scope (Локальная область видимости)
Локальная область видимости ограничена внутри функции или блока. Когда переменная объявляется внутри функции, она доступна только в этой функции и недоступна за её пределами.

- Локальная переменная существует только в пределах функции или блока, в котором она была объявлена.
- При попытке доступа к локальной переменной из внешней области видимости возникает ошибка.
``` java script
function exampleFunction() {
    let localVar = 10; // Локальная переменная, объявлена внутри функции
    console.log(localVar); // Вывод: 10 (доступна только внутри функции)
}
exampleFunction(); // Вызов функции
console.log(localVar); // Ошибка! localVar не определена за пределами функции
```
- Переменные, объявленные с let или const, видны только внутри блока, в котором они объявлены (между { ... }).
Это делает их более предсказуемыми и безопасными для использования.
Пример с let и const:
```javascript
function exampleFunction() {
    if (true) {
        let blockVar = 20; // Видна только внутри этого блока
        console.log(blockVar); // Вывод: 20
    }
    // console.log(blockVar); // Ошибка: blockVar не определена за пределами блока
}
exampleFunction();
```
## 3. Function Scope (Область видимости функции)
Область видимости функции определяет область, в которой переменные, объявленные с использованием `var`, доступны. Переменные, объявленные внутри функции, доступны только внутри этой функции.

- `var` создает переменные, которые видны в пределах функции, даже если они объявлены внутри блока.
- Функция создаёт собственную область видимости для своих переменных.
``` javascript
function exampleFunction() {
    var functionVar = 10; // Переменная с var имеет область видимости функции
    if (true) {
        var functionVarInsideBlock = 20; // Также видна в пределах всей функции
    }
    console.log(functionVar); // Вывод: 10
    console.log(functionVarInsideBlock); // Вывод: 20 (доступна, несмотря на блок)
}

exampleFunction();

console.log(functionVar); // Ошибка! functionVar не доступна за пределами функции
```
## 4. Block Scope (Область видимости блока)
Область видимости блока относится к области, ограниченной блоком кода, таким как условие или цикл. В ES6 для создания переменных с областью видимости блока используются `let` и `const`.

- Переменные, объявленные с помощью `let` и `const`, ограничены блоком, в котором они были объявлены, и недоступны за пределами этого блока.
- Это позволяет избежать ошибок, связанных с переменными, которые случайно используются вне блока.
``` javascript
if (true) {
    let blockVar = 10; // Переменная с let ограничена блоком if
    const blockConst = 20; // Переменная с const также ограничена блоком
    console.log(blockVar); // Вывод: 10
    console.log(blockConst); // Вывод: 20
}

console.log(blockVar); // Ошибка! blockVar не определена за пределами блока
console.log(blockConst); // Ошибка! blockConst не определена за пределами блока
```
# Роль Global Scope (Глобальной области видимости)

**Global scope** (глобальная область видимости) — это область, где переменные и функции доступны во всей программе. Переменные и функции, объявленные в глобальной области видимости, могут быть использованы в любой части кода, в том числе внутри функций и блоков.

## Роль Global Scope:

1. **Доступность по всему коду:**
   Переменные и функции, находящиеся в глобальной области видимости, доступны во всей программе. Это означает, что вы можете обращаться к ним в любой точке кода, что делает глобальные переменные и функции удобными для использования в различных частях приложения.

2. **Глобальные переменные:**
   Когда вы создаете переменную вне всех функций, она становится глобальной и доступна в любой части программы. Однако это может привести к проблемам, таким как:
   - Непреднамеренное изменение значения переменной.
   - Конфликты имен, если в разных частях программы используются одинаковые имена переменных.

3. **Глобальные функции:**
   Функции, объявленные в глобальной области видимости, могут быть вызваны из любой точки программы, что также способствует гибкости, но требует внимательного контроля за их использованием.

4. **Проблемы с использованием глобальной области видимости:**
   - Изменение глобальных переменных может повлиять на другие части программы, что может привести к сложным ошибкам.
   - Использование большого количества глобальных переменных и функций может затруднить поддержку кода и тестирование.

5. **Рекомендации:**
   - Лучше минимизировать использование глобальных переменных и функций.
   - Если возможно, старайтесь использовать локальные переменные внутри функций и блоков.
   - Для организации кода используйте модули и замыкания, чтобы ограничить область видимости переменных и избежать загрязнения глобальной области.


   # Роль Function Scope (Области видимости функции)

**Function scope** (область видимости функции) — это область, в которой переменные, объявленные внутри функции, доступны только внутри этой функции. Эти переменные не могут быть использованы за пределами функции, где они были объявлены.

## Роль Function Scope:
## Пример кода

```javascript
function exampleFunction() {
    var insideVariable = "Я внутри функции!";
    console.log(insideVariable); // Работает: переменная доступна внутри функции
}

exampleFunction();

console.log(insideVariable); 
// Ошибка: insideVariable не определена за пределами функции
```

1. **Изоляция данных:**
   Область видимости функции помогает изолировать данные внутри функции, предотвращая нежелательные изменения или доступ к этим данным из других частей программы. Это важная особенность, которая помогает поддерживать чистоту и предсказуемость кода.

2. **Создание локальных переменных:**
   Переменные, объявленные внутри функции с помощью `var`, имеют область видимости только внутри этой функции. Они не видны за пределами функции и не могут быть случайно изменены другими частями программы.

3. **Управление состоянием:**
   Область видимости функции позволяет создать локальное состояние, которое будет использоваться только в рамках этой функции. Это позволяет избежать конфликтов и утечек данных, связанных с глобальными переменными.

4. **Повторное использование функций:**
   Область видимости функции позволяет безопасно создавать функции, которые могут быть использованы многократно в разных местах программы. Каждое вызванное выполнение функции будет иметь собственную локальную область видимости и состояние.

5. **Влияние на использование `var`:**
   При использовании `var` в функции переменная становится доступной внутри функции, но не ограничена блоком, в котором она была объявлена. Это может привести к проблемам, если переменная используется в разных частях функции или при вложенных блоках кода.

6. **Рекомендации:**
   - Используйте области видимости функций для изоляции логики и данных.
   - Ожидайте, что переменные, объявленные в функции, будут доступны только внутри этой функции, что помогает избежать ошибок с доступом к переменным.
   - Старайтесь минимизировать использование глобальных переменных, используя локальные переменные в функциях.


# Роль Block Scope (Области видимости блока)

**Block scope** (область видимости блока) — это область видимости, ограниченная блоком кода, таким как условный оператор или цикл. Переменные, объявленные с помощью `let` и `const` в этом блоке, доступны только внутри этого блока и недоступны за его пределами.

## Роль Block Scope:
## Пример кода

```javascript
{
    let blockVariable = "Я внутри блока!";
    const anotherBlockVariable = "Я тоже внутри блока!";
    console.log(blockVariable); // Работает: переменная доступна внутри блока
    console.log(anotherBlockVariable); // Работает: переменная доступна внутри блока
}

console.log(blockVariable); 
// Ошибка: blockVariable не определена за пределами блока

console.log(anotherBlockVariable); 
// Ошибка: anotherBlockVariable не определена за пределами блока
```
1. **Ограничение области видимости:**
   Block scope позволяет ограничить область видимости переменных, объявленных внутри блоков (например, в условных операторах или циклах), только этим блоком. Это предотвращает доступ к этим переменным за пределами блока, обеспечивая более точный контроль над переменными.

2. **Предотвращение утечек переменных:**
   Переменные, объявленные с `let` и `const`, не доступны за пределами блока, в котором они были созданы. Это помогает избежать ошибок, когда переменные случайно изменяются в другом месте программы.

3. **Повышение читаемости и безопасности кода:**
   Благодаря block scope можно легко отслеживать, где и как используются переменные, что повышает читаемость и безопасность кода. Переменные, существующие только в блоке, не будут мешать другим частям программы.

4. **Использование в циклах и условиях:**
   В циклах (например, `for`) и условных операторах (например, `if`) переменные, объявленные с `let` и `const`, существуют только в пределах этих конструкций. Это важно для предотвращения ошибок, когда переменные не должны использоваться вне контекста, в котором они были созданы.

5. **Отличие от function scope:**
   В отличие от области видимости функции, где переменные могут быть доступны по всей функции, переменные с block scope видны только внутри блока, в котором они были объявлены. Это делает их более ограниченными и безопасными для использования в коротких фрагментах кода.

6. **Рекомендации:**
   - Используйте block scope для создания переменных, которые нужны только в пределах блока (например, внутри циклов или условий).
   - По возможности избегайте объявления переменных с `var` в блоках, так как `var` имеет функцию или глобальную область видимости, что может привести к ошибкам.
   - Применяйте `let` и `const` для переменных, которые должны быть ограничены определённым блоком.

# Что такое HOISTING?

## Hoisting (Подъем переменных)

**Hoisting** (подъем) — это механизм в JavaScript, при котором объявления переменных и функций "поднимаются" в верхнюю часть своей области видимости до выполнения кода. Это означает, что переменные и функции могут быть использованы до их явного объявления в коде.
### Пример с var (переменные):
```javascript
console.log(a); // Вывод: undefined (переменная поднимается, но без значения)

var a = 5; // Объявление переменной с var
console.log(a); // Вывод: 5
```
### Пример с let и const (переменные):
``` javascript
console.log(b); // Ошибка! Cannot access 'b' before initialization
let b = 10; // Объявление переменной с let
```
### Пример с функциями:
``` javascript
sayHello(); // Вывод: "Hello, world!"

function sayHello() {
    console.log("Hello, world!");
}
```
## Как работает Hoisting:

1. **Переменные:**
   В JavaScript, когда вы объявляете переменную с помощью `var`, её объявление "поднимается" в верхнюю часть области видимости, но значение переменной остается на месте. Это приводит к тому, что переменная будет доступна до строки её объявления, но будет иметь значение `undefined`.

   Пример:
   ```javascript
   console.log(a); // undefined
   var a = 5;
   console.log(a); // 5




# Function Declaration (Объявление функции)

**Function declaration** (объявление функции) — это способ создания функции в JavaScript, который включает в себя ключевое слово `function`, за которым следует имя функции, список параметров и тело функции. Объявление функции поднимается в верхнюю часть области видимости (hoisting), что позволяет вызывать функцию до её фактического объявления в коде.

## Синтаксис Function Declaration:

```javascript
function functionName(parameter1, parameter2) {
  // Тело функции
  return parameter1 + parameter2; // end
} 
```



# Variable Hoisting (Подъем переменных)

**Variable hoisting** (подъем переменных) — это механизм в JavaScript, при котором объявления переменных (не их значения) поднимаются в верхнюю часть своей области видимости. Этот механизм влияет на то, как JavaScript обрабатывает переменные, которые объявлены с помощью `var`, `let` и `const`.

## Как работает Variable Hoisting:

### 1. **`var` и Hoisting:**
   При использовании `var` переменная поднимется в верхнюю часть своей области видимости (функции или глобальной области), но её значение останется на месте. До строки присваивания переменной будет присвоено значение `undefined`, что приводит к неожиданным результатам.

   Пример:
   ```javascript
   console.log(a); // undefined
   var a = 5;
   console.log(a); // 5
   ```
   # Temporal Dead Zone (TDZ) в JavaScript

**Temporal Dead Zone (TDZ)** — это концепция в JavaScript, связанная с переменными, объявленными с помощью `let` и `const`. TDZ обозначает период времени между началом блока кода (или функции) и моментом инициализации переменной. В это время переменная существует, но её значение ещё не доступно.

## Основные моменты:

1. **Let и Const:**
   - Переменные, объявленные с помощью `let` и `const`, не могут быть использованы до того, как они будут инициализированы в коде. Это связано с тем, что они находятся в "мертвой зоне" (TDZ) до момента их объявления.
   - Попытка доступа к переменной в TDZ вызывает ошибку `ReferenceError`.

2. **Когда возникает TDZ?**
   - TDZ возникает внутри блока кода (например, внутри функции, цикла или блока `if`), когда переменная объявлена с `let` или `const`, но ещё не присвоено значение. Переменная существует, но её нельзя использовать до инициализации.

## Пример Temporal Dead Zone:

```javascript
function example() {
  console.log(a); // Ошибка! Переменная a в TDZ.
  let a = 5;
}
example();
```
### TDZ с const:

```
function example() {
  console.log(b); // Ошибка! Переменная b в TDZ.
  const b = 10;
}
example();
```
# Temporal Dead Zone (TDZ) в JavaScript

**Temporal Dead Zone (TDZ)** — это концепция в JavaScript, связанная с переменными, объявленными с помощью `let` и `const`. TDZ обозначает период времени между началом блока кода (или функции) и моментом инициализации переменной. В это время переменная существует, но её значение ещё не доступно.

## Основные моменты:

1. **Let и Const:**
   - Переменные, объявленные с помощью `let` и `const`, не могут быть использованы до того, как они будут инициализированы в коде. Это связано с тем, что они находятся в "мертвой зоне" (TDZ) до момента их объявления.
   - Попытка доступа к переменной в TDZ вызывает ошибку `ReferenceError`.

2. **Когда возникает TDZ?**
   - TDZ возникает внутри блока кода (например, внутри функции, цикла или блока `if`), когда переменная объявлена с `let` или `const`, но ещё не присвоено значение. Переменная существует, но её нельзя использовать до инициализации.

# Заключение

 Temporal Dead Zone применяется только к переменным, объявленным с let и const. Это заставляет их быть "не доступными" до момента объявления, предотвращая случайные ошибки из-за использования переменных до их инициализации.